<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TAMASHIKA</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  </head>
  <body>
    <div class="custom-cursor"></div>
    <!-- <div class="custom-cursor-outline"></div> -->
    <canvas id="bg"></canvas>
    <main class="page">
      <a href="https://store.steampowered.com/app/2996080/TAMASHIKA/" class="logo-link">
        <img id="logo" src="yy.png" alt="TAMASHIKA" class="logo-spin" />
      </a>
    </main>

    <script src="shader.js"></script>
    <script>
      (function () {
        var d = new Date();
        var yyyymmdd = d.getFullYear() + String(d.getMonth() + 1).padStart(2, '0') + String(d.getDate()).padStart(2, '0');
        fetch('https://api.tamashika.com/' + yyyymmdd)
          .then(function (r) { return r.json(); })
          .then(function (data) {
            if (data && typeof data.completes === 'number' && data.completes > 0) {
              var img = document.getElementById('logo');
              if (img) {
                img.src = 'heart.png';
                img.classList.remove('logo-spin');
                img.classList.add('logo-no-spin');
              }
            }
          })
          .catch(function () {});
      })();
    </script>
    <script>
      const cursor = document.querySelector('.custom-cursor');
      // const cursor2 = document.querySelector('.custom-cursor-outline');

        document.addEventListener('mousemove', (e) => {
            cursor.style.left = e.clientX + 'px';
            cursor.style.top = e.clientY + 'px';
        });
      const TARGET_URL = 'https://store.steampowered.com/app/2996080/TAMASHIKA/';

      document.addEventListener('click', function (event) {
        if (event.target.closest('a')) {
          return;
        }
        window.location.href = TARGET_URL;
      });
    </script>
  </body>
</html>